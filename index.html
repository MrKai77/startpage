<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">

  <!-- Set the tab icon and name -->
  <title>Home</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš¦</text></svg>">
  
  <!-- Import library needed for random backgroun image -->
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js'></script>

  <style>
    /*  Import font */
    @import url(https://fonts.googleapis.com/css?family=B612+Mono);

    /*  Body config, pretty basic */
    body {
        background-repeat: no-repeat;
        background-position: bottom;
        font-family: "B612 Mono";
        margin: 0;
        padding: 0;
        height: 100vh;
        user-select: none;
    }

    /*  Config for all items that show (check the div for more info) */
    .items {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    /*  The hour and minute */
    .hour, .minute {
        font-size: 250px;
        font-weight: bold;
        color: rgba(255, 255, 255, 0.7);
        margin: -40px;
        letter-spacing: 20px;
    }

    /*  The temperature */
    .temp {
        font-size: 30px;
        font-weight: bold;
        color: rgba(255, 255, 255, 0.7);
        margin: 20px;
    }

    /*  The searchbox (this is the whole box, including the search button) */
    .searchIn {
        background-color: rgba(255, 255, 255, 0.25);
        width: 700px;
        height: 50px;
        border-radius: 5px;
        display: flex;
        flex-direction: row;
        align-items: center;
    }

    /* The searchbox (this is the text box where you type things) */
    .searchBox {
        all: unset;
        font-size: 20px;
        color: rgba(255, 255, 255);
        height: 100%;
        width: 100%;
        padding: 6px 10px;
    }

    /*  The text inside the searchbox */
    ::placeholder {
        color: rgba(255, 255, 255);
        opacity: 0.7; 
    }

    /*  The search button in the searchbox */
    button {
        all: unset;
        cursor: pointer;
        width: 50px;
        height: 50px;
        color: #fff;
        fill: currentColor;
    }
    svg {
        color: #fff;
        fill: currentColor;
        width: 30px;
        height: 30px;
        padding: 10px;
    }
  </style>

</head>

<body>
  <!-- The "items" class is for all the items (this is pretty basic) -->
  <div class="items">
    <!-- The hour & minute --> 
    <div class="hour"></div>    
    <div class="minute"></div> 

    <!-- The temperature -->
    <div class="temp">0.00Â°C</div>    

    <!-- The searchbox --> 
    <!-- <form class="searchIn" id="form" action="https://duckduckgo.com/?t=ffab&q=" method="GET">
      <input class="searchBox" type="search" id="query" name="q" placeholder="Search" autofocus>
      <button><svg viewBox="0 0 1024 1024"><path class="path1" d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"></path></svg></button>
    </form>      -->
  </div>
  <script>
    // Variables for the time and temperature
    var hour = document.querySelector('.hour');
    var minute = document.querySelector('.minute');
    var temp = document.querySelector('.temp');

    // Function to update the clock
    function updateClock() {
      // Get the current time, day , month and year
      var now = new Date();
      var hours = now.getHours();
      var minutes = now.getMinutes();

      // format date and time
      hours = hours % 12 || 12;
      hours = hours < 10 ? '0' + hours : hours;
      minutes = minutes < 10 ? '0' + minutes : minutes;

      // display date and time
      hour.innerHTML = hours;
      minute.innerHTML = minutes;
    }

    // Update the clock every second
    updateClock();
    setInterval(updateClock, 1000);

    // Function to update the temperature (via JSON)
    var getJSON = function(url, callback) {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.responseType = 'json';
        xhr.onload = function() {
          var status = xhr.status;
          if (status ===   200) {
            callback(null, xhr.response);
          } else {
            callback(status, xhr.response);
          }
        };
        xhr.send();
    };
    // Gets JSON and updates the temperature (And yes, I know my API key is there but I don't care if you use it)
    getJSON('https://api.openweathermap.org/data/2.5/weather?q=Calgary&units=metric&appid=9dce2a4ddbc4df7f43ae0ac8e6ad58b5',
    function(err, data) {
    if (err !==   null) {
      alert('Error: ' + err);
    } else {
      // Set the temperature in the DIV
      temp.innerHTML = data.main.temp + " Â°C";
    }

    // Function to set a random photo
    function randPic() {
        var bgm = ['TrainStation1.jpg','TrainStation2.jpg', 'TrainStation3.jpg'];
        $('body').css({
            'background'      :   'url('+ bgm[Math.floor(Math.random() * bgm.length)] + ') no-repeat',
            'background-size' :   'cover',
        });
    }
    // Set a random photo (upon every reload)
    randPic();  
  });

  </script>
</body>
</html>